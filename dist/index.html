<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <meta name="description" content="">
  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
  <!--<link rel="stylesheet" href="styles/style.css?v=1.1.2">-->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" rel="stylesheet">
<style>
* {
  box-sizing: border-box;
}
body {
  font-family: 'Quicksand', sans-serif;
}
button {
  border:none;
  background-color: transparent;
}
main {
  
}
.loading-modal{
  display:block;
  position:fixed;
  left:0;
  top:0;
  right:0;
  bottom:0;
  z-index: 5;
  background-color:orange;
}
.app {

  height: 100vh;
  overflow-y: scroll;
  -ms-scroll-snap-type: y mandatory;
      scroll-snap-type: y mandatory;

 -ms-scroll-snap-type: mandatory; /* IE/Edge */ 
 -webkit-scroll-snap-type: mandatory; /* Safari */  
  -webkit-scroll-snap-destination: 0% 0%;  
  -webkit-overflow-scrolling: touch; /* important for iOS */ 
  scroll-snap-type: y mandatory; /* Chrome Canary */  
  scroll-snap-type: mandatory; /* Firefox */   
  
}

.story-screen{

  scroll-snap-align: start;
  height: 100vh;
  max-width:64vh;
  /*overflow:hidden;*/
  position: relative;
  margin-left:auto;
  margin-right:auto;
  background-color:#AEAAA1;
}
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {  

  .story-screen{
    overflow:hidden;
  }
}
.story-screen:nth-child(11){
    background-color: #fff;
  }
  .story-screen:nth-child(12){
    background-color: #3C5743;
  }
  .story-screen:nth-child(14),
  .story-screen:last-child {
    background-color: #EDE8DB;
  }
.story-screen__inner{
  position: relative;
  overflow:hidden;
}
.story-screen__text {
    display:none;
    position:absolute;
    z-index: 2;
    top:2%;
    padding:5% 0 80px 5%;
    min-height: 50%; 
    /*right:-400px;*/
    right:7px;
    width:320px;
    z-index: 1;
    background-color: #EDE8DB;
    border:6px solid #EA5736;
    border-radius: 20px 0 0 20px;
}
.story-screen__text__header{
  line-height: 1.3;
    font-size: 1.1rem;
    font-weight: bold;
    margin:0 0 1rem 0;
}
.story-screen__text__inner{
      max-height: 70vh;
      padding:0 5% 0 0;
      overflow:auto;
}
.story-screen__text__close{
      position:absolute;
      right:2px;
      top:2px;
      z-index: 5;
      cursor:pointer;
      display:block;
      width:30px;
      height:30px;
      background-repeat: no-repeat;
      background-size: 99% 99%;
      background-image: url("data:image/svg+xml,%3Csvg id='b91ef90e-ae13-42c8-af47-d88a8fee7c52' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44.32 44.32'%3E%3Cdefs%3E%3Cstyle%3E.a7e57a54-4efe-4b34-814a-3a0e80af24a6,.b20fbf41-f806-446e-a5ec-b3488adb128c%7Bfill:%23ede8db;%7D.a93665e4-b937-4481-bee3-01ece890e693%7Bfill:%23aeaaa1;%7D.a77f9e84-9d96-44fa-a941-baeb98caa40f%7Bfill:%233c5743;%7D.a0fa9e9e-52c0-4dbb-a77e-5008458d568e,.b171b4ad-ff6f-48c3-9d50-c7ab2b3ee49d%7Bfill:none;%7D.a0fa9e9e-52c0-4dbb-a77e-5008458d568e,.b171b4ad-ff6f-48c3-9d50-c7ab2b3ee49d,.b20fbf41-f806-446e-a5ec-b3488adb128c%7Bstroke:%23ea5736;stroke-miterlimit:10;%7D.a0fa9e9e-52c0-4dbb-a77e-5008458d568e%7Bstroke-width:5.4px;%7D.b171b4ad-ff6f-48c3-9d50-c7ab2b3ee49d%7Bstroke-linecap:round;stroke-width:2.31px;%7D.e73210d1-9490-40d5-a0db-592f17c76cb6%7Bfill:%23a2a081;%7D.a705baad-b915-42ce-8bd4-123716b284ec%7Bfill:%2377a9a2;fill-rule:evenodd;%7D.b20fbf41-f806-446e-a5ec-b3488adb128c%7Bstroke-width:6px;%7D.f45f67ae-eb6c-403d-999f-8d54c4bbb975%7Bfill:%23ea5736;%7D%3C/style%3E%3C/defs%3E%3Crect class='a7e57a54-4efe-4b34-814a-3a0e80af24a6' x='-407.82' y='-966.32' width='465.11' height='2577.36'/%3E%3Cpath class='a93665e4-b937-4481-bee3-01ece890e693' d='M24.17,696.91l32.63,4.48,1.07-296.87C11.93,318.26,21,336.77-25,246.74-52,193.82-79.6,140.41-93.47,82.63a370.21,370.21,0,0,1,1.1-176.5H-210.58a370.21,370.21,0,0,0-1.11,176.5c13.87,57.78,41.42,111.19,68.45,164.11,46,90,91.2,180.54,130.78,273.57C15,584.9,40.11,656.34,21.27,724c-1,3.53-4.2,7.92-7.28,5.93'/%3E%3Cpath class='a77f9e84-9d96-44fa-a941-baeb98caa40f' d='M57.87,404.52C21.66,346.19-14.49,281.25-44,219.28s-52.31-127.81-60-196c-2.36-20.89-3.28-42.19.8-62.81l160-.34Z'/%3E%3Cline class='a0fa9e9e-52c0-4dbb-a77e-5008458d568e' x1='18.63' y1='77.18' x2='18.63' y2='37.19'/%3E%3Cpath class='b171b4ad-ff6f-48c3-9d50-c7ab2b3ee49d' d='M8.34,39.76S9.27,50.1,18.63,53.87'/%3E%3Cpath class='b171b4ad-ff6f-48c3-9d50-c7ab2b3ee49d' d='M28.75,35.77S27.53,48,18.63,48'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='30.41' cy='34.19' r='8.04'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='36.04' cy='12.37' r='8.04'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='2.72' cy='13.17' r='9.61'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='17.85' cy='36.56' r='6.27'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='38.45' cy='25.44' r='10.35'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='-2.42' cy='25.44' r='9.26'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='14.5' cy='7.64' r='13.79'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='24.8' cy='9.6' r='11.02'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='16.73' cy='23.39' r='13.79'/%3E%3Ccircle class='e73210d1-9490-40d5-a0db-592f17c76cb6' cx='6.7' cy='34.19' r='8.03'/%3E%3Cpath class='a705baad-b915-42ce-8bd4-123716b284ec' d='M16.12,67.08a28.26,28.26,0,0,0,.15-2.92A30.82,30.82,0,0,0-14.56,33.34a30.74,30.74,0,0,0-21.56,8.8,17,17,0,0,0-9.26-2.75,17,17,0,0,0-17,17A17,17,0,0,0-61.74,61,25.1,25.1,0,0,0-79.41,85a25,25,0,0,0,2.14,10.14H29.52a20.53,20.53,0,0,0-13.4-28Z'/%3E%3Cpath class='b20fbf41-f806-446e-a5ec-b3488adb128c' d='M57.48,657.21h-377a31.1,31.1,0,0,1-31.09-31.1V17.59A31.09,31.09,0,0,1-319.55-13.5h377'/%3E%3Ccircle class='f45f67ae-eb6c-403d-999f-8d54c4bbb975' cx='22.16' cy='22.16' r='22.16'/%3E%3Cpath class='a7e57a54-4efe-4b34-814a-3a0e80af24a6' d='M28.75,14.77l-5.13,7,5.13,7a1.47,1.47,0,0,1-.33,2.05,1.5,1.5,0,0,1-.86.3,1.55,1.55,0,0,1-1.22-.62l-4.53-6.24-4.56,6.24a1.54,1.54,0,0,1-1.19.62,1.43,1.43,0,0,1-.87-.3,1.48,1.48,0,0,1-.35-2.05l5.13-7-5.13-7a1.48,1.48,0,0,1,.35-2,1.4,1.4,0,0,1,2.06.32l4.56,6.21L26.34,13a1.43,1.43,0,0,1,2.08-.32A1.46,1.46,0,0,1,28.75,14.77Z'/%3E%3C/svg%3E");
    
    }

.story-screen__graphic {
  width:100%;
    height:auto;
    display:block;
}
.story-screen__audio-ctrl{
    position:absolute;
    bottom:10px;
    left: calc(50% - 25px);
    cursor:pointer;
    width:50px;
    height:50px;
    background-repeat: no-repeat;
    background-size: contain;
  }
  .story-screen__audio-ctrl.paused {
      background-image: url("data:image/svg+xml,%3Csvg id='a87be89d-000a-4447-999e-2af5f0de46ad' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 124.71 114.42'%3E%3Cdefs%3E%3Cstyle%3E.bcd210f3-7090-4cdb-b350-a4c0c49f9791,.fa0e2601-7e93-47db-b244-335d5f1ab316%7Bfill:%23ede8db;%7D.b7637181-f8db-4f50-8ca3-226bc60a70db%7Bfill:%233c5743;%7D.fa83fd7e-f749-40db-a6ef-0ee0ecd426a6%7Bfill:%23aeaaa1;%7D.bd3d26b0-4deb-481e-9e6c-8b536fa5d6fa%7Bfill:%234d4d4c;%7D.bcd210f3-7090-4cdb-b350-a4c0c49f9791%7Bstroke:%23ea5736;stroke-miterlimit:10;stroke-width:6px;%7D.fdd236b3-5da3-4639-9bdb-09c2f292e26a%7Bfill:%23ea5736;%7D%3C/style%3E%3C/defs%3E%3Crect class='fa0e2601-7e93-47db-b244-335d5f1ab316' x='-199.56' y='-640.61' width='465.11' height='2577.36'/%3E%3Cpolygon class='b7637181-f8db-4f50-8ca3-226bc60a70db' points='133.02 187.69 265.55 187.69 266.63 -544.39 217.82 -465.54 133.02 -113.2 115.72 162.98 133.02 187.69'/%3E%3Cpath class='fa83fd7e-f749-40db-a6ef-0ee0ecd426a6' d='M133,187.69c53.83-71.32,55.07-153.11,57.92-242S186-233,200.91-320.77,258-497.3,335.8-542.06l-81.11.3C174.75-500.82,128.22-414.18,109-327.26S93.11-150.32,85.85-61.64,58.78,118.85,1.48,187.49Z'/%3E%3Crect class='fa83fd7e-f749-40db-a6ef-0ee0ecd426a6' x='-198.48' y='-23.55' width='367.12' height='47.23'/%3E%3Crect class='bd3d26b0-4deb-481e-9e6c-8b536fa5d6fa' x='11.69' y='-472.78' width='12.75' height='623.23' rx='2.41' transform='matrix(1, 0.04, -0.04, 1, -5.72, -0.74)'/%3E%3Cpath class='bcd210f3-7090-4cdb-b350-a4c0c49f9791' d='M266.42,157.36h-377a31.09,31.09,0,0,1-31.09-31.09V-482.25a31.1,31.1,0,0,1,31.09-31.1h377'/%3E%3Cg id='a4de47c5-e55c-4d4e-ac84-5c55f743e0c0' data-name='DZFlyL.tif'%3E%3Cpath class='fdd236b3-5da3-4639-9bdb-09c2f292e26a' d='M97,20.88c11.16,9.62,17.23,21.63,17.22,36.39S108.1,84,97,93.59c1.92,2.88,3.81,5.69,5.69,8.52A56.19,56.19,0,0,0,124.61,54c-1-17.09-8.55-30.92-21.84-41.81ZM85.35,38.3a26.1,26.1,0,0,1,0,37.89q2.88,4.29,5.77,8.63c17.33-14.63,16.72-41.33,0-55.16Z'/%3E%3Cpath class='fdd236b3-5da3-4639-9bdb-09c2f292e26a' d='M63.56,0l1.62.46a10.44,10.44,0,0,1,7.6,9.76c0,.16,0,.33,0,.49q0,46.55,0,93.09c0,8.24-8.33,13-15.67,9.42a8.16,8.16,0,0,1-2.36-1.86A209.91,209.91,0,0,0,28.81,86.61a15.1,15.1,0,0,0-10-3.38A67.12,67.12,0,0,1,9,83.05c-4.66-.56-7.53-3.44-8.73-8A3.76,3.76,0,0,0,0,74.52V39.94a1.65,1.65,0,0,0,.18-.31c1.48-5.52,5.25-8.43,11-8.43,2.72,0,5.44-.05,8.15,0a13.26,13.26,0,0,0,8.92-3C32.06,25.09,36,22,39.57,18.53c4.88-4.63,9.58-9.46,14.2-14.36C55.41,2.44,57,.88,59.37.37c.51-.11,1-.25,1.51-.37Z'/%3E%3Cpath class='fdd236b3-5da3-4639-9bdb-09c2f292e26a' d='M97,20.88l5.78-8.67C116.06,23.1,123.59,36.93,124.61,54a56.19,56.19,0,0,1-21.93,48.09c-1.88-2.83-3.77-5.64-5.69-8.52C108.1,84,114.2,72,114.21,57.27S108.15,30.5,97,20.88Z'/%3E%3Cpath class='fdd236b3-5da3-4639-9bdb-09c2f292e26a' d='M85.35,38.3l5.77-8.64c16.73,13.83,17.34,40.53,0,55.16q-2.89-4.33-5.77-8.63A26.1,26.1,0,0,0,85.35,38.3Z'/%3E%3C/g%3E%3C/svg%3E");
    }
   .story-screen__audio-ctrl.playing {
      background-image: url("data:image/svg+xml,%3Csvg version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 60 60' style='enable-background:new 0 0 60 60;' xml:space='preserve'%3E%3Cpath style='fill:%23EA5736' d='M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M27,46h-8V14h8V46z M41,46h-8V14h8V46z'/%3E%3C/svg%3E%0A");
    }
  .pulse-box{
  position:absolute;
  left: 0;
  top: 0;
  width:40px;
  height:40px;
  background-color: red;
  cursor:pointer;
}

  </style>
</head>
<body>

<main class="main" style="overflow:auto;-webkit-overflow-scrolling:touch;">
<div class="app" id="app"></div>
</main>
<script>
var xmlhttp = new XMLHttpRequest();
var url = "csvjson.json";

xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myArr = JSON.parse(this.responseText);
    myFunction(myArr);
  }
};
xmlhttp.open("GET", url, true);
xmlhttp.send();

function myFunction(arr) {
  var out = "";
  var i;
  
  for(i = 0; i < arr.length; i++) {
    out += '<article class="story-screen story-screen--' + i + '" id="story-screen--' + i + '"><div class="story-screen__inner">' + arr[i].svg + '<button title="Read more" id="layer-cta-' + i + '" class="pulse-box"></button><div id="story-screen__text--' + i + '" class="story-screen__text"><button title="Close this panel" id="story-screen__text__close--' + i + '" class="story-screen__text__close"></button><div class="story-screen__text__inner">' + arr[i].textContent + '</div><button class="story-screen__audio-ctrl paused" id="ctrl-' + i + '"></button></div></div><audio id="audio-' + i + '"><source src="audio/' + arr[i].audioFile + '" type="audio/mpeg">Your browser does not support the audio element.</audio></article>';
  }
  
  document.getElementById("app").innerHTML = out;
}

</script>
<script src="https://bundle.run/css-scroll-snap-polyfill@0.1.2"></script>
<script>
  const gra = function(min, max) {
    return Math.random() * (max - min) + min;
};
const init = function() {
    let items = document.querySelectorAll("article");
    for (let i = 0; i < items.length; i++) {
        items[i].style.minHeight = gra(120, 205) + "vh";
       // items[i].style.background = randomColor({ luminosity: "light" });
    }

    cssScrollSnapPolyfill();
};
init();
</script>
<!--<script>
var xmlhttp = new XMLHttpRequest();
var url = "csvjson.json";

xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myArr = JSON.parse(this.responseText);
    myFunction(myArr);
  }
};
xmlhttp.open("GET", url, true);
xmlhttp.send();

function myFunction(arr) {
  var out = "";
  var i;
  
  for(i = 0; i < arr.length; i++) {
    out += '<article class="story-screen story-screen--' + i + '" id="story-screen--' + i + '">' + arr[i].svg + '<div id="layer-cta-' + i + '" class="pulse-box"></div><div id="story-screen__text--' + i + '" class="story-screen__text"><div id="story-screen__text__close--' + i + '" class="story-screen__text__close"></div><div class="story-screen__text__inner">' + arr[i].textContent + '</div><div class="story-screen__audio-ctrl paused" id="ctrl"></div></div></article>';
  }
  
  document.getElementById("app").innerHTML = out;
}

</script>-->



<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
<script src="scripts/main.min.js?v=1.2.1"></script>
</body>
</html>