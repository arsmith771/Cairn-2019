<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <meta name="description" content="">
  <style>
  	.container{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}@keyframes side-to-side-small{0%{transform:translatex(0) rotate(-90deg)}50%{transform:translatex(-2vw)}100%{transform:translatex(0) rotate(-90deg)}}@keyframes side-to-side-medium{0%{transform:translatex(0) rotate(-120deg)}50%{transform:translatex(-4vw)}100%{transform:translatex(0) rotate(-120deg)}}@keyframes side-to-side-large{0%{transform:translatex(0) rotate(250deg)}50%{transform:translatex(-6vw)}100%{transform:translatex(0) rotate(250deg)}}@keyframes fall{100%{transform:translatey(123vh)}}.leaf .x-axis{width:2vmax;height:2vmax;border-top-left-radius:5vmax;border-bottom-left-radius:5vmax;border-bottom-right-radius:.1vmax;border-top-right-radius:5vmax}.brown-leaf .x-axis{background-image:url(img/leaf-1.svg);background-size:100% auto}.red-leaf .x-axis{background-image:url(img/leaf-2.svg)}.yellow-leaf .x-axis{background-image:url(img/leaf-3.svg)}.green-leaf .x-axis{background-image:url(img/leaf-4.svg)}.small-move .x-axis{animation:side-to-side-small 4s cubic-bezier(.48,0,.46,1) 3.5 forwards}.medium-move .x-axis{animation:side-to-side-medium 10s cubic-bezier(.48,0,.46,1) 5.05 forwards}.large-move .x-axis{animation:side-to-side-large 8s cubic-bezier(.48,0,.46,1) 3.05 forwards}.leaf .y-axis{animation:fall 8s ease-out forwards}
  </style>
</head>
<body>
	<div class="container"></div>
<script>
(function leafAnim(){

// browser detect
var BrowserDetect = {
        init: function() {
		this.browser = this.searchString(this.dataBrowser) || "An unknown browser";
		this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || "an unknown version";
		this.OS = this.searchString(this.dataOS) || "an unknown OS";
	},
	searchString: function(data) {
		for (var i = 0; i < data.length; i++) {
			var dataString = data[i].string;
			var dataProp = data[i].prop;
			this.versionSearchString = data[i].versionSearch || data[i].identity;
			if (dataString) {
				if (dataString.indexOf(data[i].subString) != -1) return data[i].identity;
			} else if (dataProp) return data[i].identity;
		}
	},
	searchVersion: function(dataString) {
		var index = dataString.indexOf(this.versionSearchString);
		if (index == -1) return;
		return parseFloat(dataString.substring(index + this.versionSearchString.length + 1));
	},
	dataBrowser: [{
		string: navigator.userAgent,
		subString: "Chrome",
		identity: "Chrome"
	}, {
		string: navigator.userAgent,
		subString: "OmniWeb",
		versionSearch: "OmniWeb/",
		identity: "OmniWeb"
	}, {
		string: navigator.vendor,
		subString: "Apple",
		identity: "Safari",
		versionSearch: "Version"
	}, {
		prop: window.opera,
		identity: "Opera",
		versionSearch: "Version"
	}, {
		string: navigator.vendor,
		subString: "iCab",
		identity: "iCab"
	}, {
		string: navigator.vendor,
		subString: "KDE",
		identity: "Konqueror"
	}, {
		string: navigator.userAgent,
		subString: "Firefox",
		identity: "Firefox"
	}, {
		string: navigator.vendor,
		subString: "Camino",
		identity: "Camino"
	}, { // for newer Netscapes (6+)
		string: navigator.userAgent,
		subString: "Netscape",
		identity: "Netscape"
	}, {
		string: navigator.userAgent,
		subString: "MSIE",
		identity: "Explorer",
		versionSearch: "MSIE"
	}, {
		string: navigator.userAgent,
		subString: "Gecko",
		identity: "Mozilla",
		versionSearch: "rv"
	}, { // for older Netscapes (4-)
		string: navigator.userAgent,
		subString: "Mozilla",
		identity: "Netscape",
		versionSearch: "Mozilla"
	}],
	dataOS: [{
		string: navigator.platform,
		subString: "Win",
		identity: "Windows"
	}, {
		string: navigator.platform,
		subString: "Mac",
		identity: "Mac"
	}, {
		string: navigator.userAgent,
		subString: "iPhone",
		identity: "iPhone/iPod"
	}, {
		string: navigator.platform,
		subString: "Linux",
		identity: "Linux"
	}]

};
BrowserDetect.init();

if ( !( BrowserDetect.browser === 'Safari' && BrowserDetect.version < 9 ) )  {

	//jQuery('#arrows-summer-next').one('click', function(){

		

		// Define the type of leaves (to match with various CSS classes)
var leafColours = ['red-leaf', 'brown-leaf', 'yellow-leaf', 'green-leaf'];
var leafMovements = ['small-move', 'medium-move', 'large-move', 'large-move'];
var MAX_LEAVES = 6;
var container = document.querySelector('.container');
var leafCounter = 0;
setInterval( function() {
  // Don't do anything if window not in focus
  if(document.visibilityState === 'hidden'){
    console.info('Browser not in focus, so we will not generate new leaves');
    return;
  }
  // Some garbage cleaning first up
  if(leafCounter > MAX_LEAVES){
    // Remove oldest leave once we hit the max limit;
    console.info(`Limit reached on number of leaves  (${MAX_LEAVES}), so we are culling the oldest one...`);
  container.removeChild(container.querySelector('.leaf'));
  }
  // Create a leaf div
  var leaf = document.createElement('div');
  
  // Randomly select leaf colour
  var selectedLeafColour = Math.floor(Math.random() * leafColours.length);
  leaf.classList.add(leafColours[selectedLeafColour]);
  
  // Randomly select leaf type
  var selectedLeafMovement = Math.floor(Math.random() * leafMovements.length);
  leaf.classList.add(leafMovements[selectedLeafMovement]);
  
  // Create supporting structure for leaf
  leaf.classList.add('leaf');
  var yAxis = document.createElement('div');
  yAxis.classList.add('y-axis');
  var xAxis = document.createElement('div');
  xAxis.classList.add('x-axis');
  
  yAxis.appendChild(xAxis);
  leaf.appendChild(yAxis);
  
  // Set random x-axis starting position
  var horizontalPosition = Math.random() * window.innerWidth;
  leaf.style.position = 'absolute';
  leaf.style.left = `${horizontalPosition}px`;
  
  // Set to start slightly off top of screen
  var verticalPosition = -25;
  leaf.style.top = `${verticalPosition}vh`;
  container.appendChild(leaf);
  
  // Increment leaf counter
  leafCounter++;
}, 1000)


	//});

}
})();

</script>
<script>
	
</script>
</body>